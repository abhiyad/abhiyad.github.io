<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <meta name="viewport" content="width=1280,initial-scale=1"> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="blogs.css">
  <link rel="stylesheet" type="text/css" href="prism.css">
  <script type="text/javascript" src="prism.js"></script>
  <link id="theme" rel="stylesheet" type="text/css" href="../workspace.css" title="theme" />  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <meta charset="utf-8" />  
    <!-- Change for better search engine indexing -->  
  <title>Abhishek Yadav</title> 


  <script>
  function change_width(){
    var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    margin = ( ( 20 * ( width - 500 ) )/ 1300);
    margin = Math.floor(margin);
    if (margin<5){
      margin = 5;
    }
    margin = margin.toString() + "%";
    document.getElementById("code").style.marginLeft = margin;
    document.getElementById("code").style.marginRight = margin;

    
  }
</script>
</head>
<body onload="change_width()">
  
<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #4CAF50;
  color: white;
}

#heading_in_para{
  font-size: 2em
}
</style>

<div class="topnav">
  <a href="../index.html" style="font-size: 1em;">Home</a>
  <a href="../Abhishek_CV.pdf" style="font-size: 1em;">Resume</a>
  <a href="../index.html#contact" style="font-size: 1em;">Contact</a>
  <a class="../blogs.html" href="../blogs.html" style="font-size: 1em;">My Blogs</a>
</div>


<h1 class="main">Getting started with Spring Security</h1>

<div id="code">
<pre>
<code class="language-java">
package com.springframework.services;
import com.springframework.repositories.MyUserRepository;
import com.springframework.domain.MyUser;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.User.UserBuilder;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class MyUserService {
    private MyUserRepository repository;
    private BCryptPasswordEncoder passwordEncoder;
    @Autowired
    public MyUserService(MyUserRepository repository){
        this.passwordEncoder = new BCryptPasswordEncoder();
        this.repository  = repository;
    }

    public MyUser loadUserByUsername(String username){
        return repository.findMyUserByUsername(username);
    }
    public void saveMyUser(String name,String username,String password,String role){
        MyUser user = new MyUser(name,username,passwordEncoder.encode(password),role);
        //need to add some checks here!!
        System.out.println("saved password ============== " + user.getPassword());
        repository.save(user);
    }
}

  </code>
</pre>
</div>



</body>
</html>
